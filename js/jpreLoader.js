!function(t){var e=new Array,i=new Array,n=function(){},o=0,s={splashVPos:"35%",loaderVPos:"75%",splashID:"#jpreContent",showSplash:!0,showPercentage:!0,autoClose:!0,closeBtnText:"Start!",onetimeLoad:!1,debugMode:!1,splashFunction:function(){}},a=function(){if(s.onetimeLoad){for(var t,e=document.cookie.split("; "),i=0;t=e[i]&&e[i].split("=");i++)if("jpreLoader"===t.shift())return t.join("=");return!1}return!1},r=function(t){if(s.onetimeLoad){var e=new Date;e.setDate(e.getDate()+t);var i=null==t?"":"expires="+e.toUTCString();document.cookie="jpreLoader=loaded; "+i}},l=function(){if(jOverlay=t("<div></div>").attr("id","jpreOverlay").css({position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9999999}).appendTo("body"),s.showSplash){jContent=t("<div></div>").attr("id","jpreSlide").appendTo(jOverlay);var e=t(window).width()-t(jContent).width();t(jContent).css({position:"absolute",top:s.splashVPos,left:Math.round(50/t(window).width()*e)+"%"}),t(jContent).html(t(s.splashID).wrap("<div/>").parent().html()),t(s.splashID).remove(),s.splashFunction()}jLoader=t("<div></div>").attr("id","jpreLoader").appendTo(jOverlay);var i=t(window).width()-t(jLoader).width();t(jLoader).css({position:"absolute",top:s.loaderVPos,left:Math.round(50/t(window).width()*i)+"%"}),jBar=t("<div></div>").attr("id","jpreBar").css({width:"0%",height:"100%"}).appendTo(jLoader),s.showPercentage&&(jPer=t("<div></div>").attr("id","jprePercentage").css({position:"relative",height:"100%"}).appendTo(jLoader).html("Loading...")),s.autoclose||(jButton=t("<div></div>").attr("id","jpreButton").on("click",function(){f()}).css({position:"relative",height:"100%"}).appendTo(jLoader).text(s.closeBtnText).hide())},h=function(i){t(i).find("*:not(script)").each(function(){var i="";if(-1==t(this).css("background-image").indexOf("none")&&-1==t(this).css("background-image").indexOf("-gradient")){if(i=t(this).css("background-image"),-1!=i.indexOf("url")){var n=i.match(/url\((.*?)\)/);i=n[1].replace(/\"/g,"")}}else"img"==t(this).get(0).nodeName.toLowerCase()&&"undefined"!=typeof t(this).attr("src")&&(i=t(this).attr("src"));i.length>0&&e.push(i)})},c=function(){for(var t=0;t<e.length;t++)d(e[t])},d=function(e){var n=new Image;t(n).load(function(){u()}).error(function(){i.push(t(this).attr("src")),u()}).attr("src",e)},u=function(){o++;var i=Math.round(o/e.length*100);if(t(jBar).stop().animate({width:i+"%"},500,"linear"),s.showPercentage&&t(jPer).text(i+"%"),o>=e.length){if(o=e.length,r(),s.showPercentage&&t(jPer).text("100%"),s.debugMode){p()}t(jBar).stop().animate({width:"100%"},500,"linear",function(){s.autoClose?f():t(jButton).fadeIn(1e3)})}},f=function(){t(jOverlay).fadeOut(800,function(){t(jOverlay).remove(),n()})},p=function(){if(i.length>0){var t="ERROR - IMAGE FILES MISSING!!!\n\r";t+=i.length+" image files cound not be found. \n\r",t+="Please check your image paths and filenames:\n\r";for(var e=0;e<i.length;e++)t+="- "+i[e]+"\n\r";return!0}return!1};t.fn.jpreLoader=function(e,i){return e&&t.extend(s,e),"function"==typeof i&&(n=i),t("body").css({display:"block"}),this.each(function(){a()?(t(s.splashID).remove(),n()):(l(),h(this),c())})}}(jQuery);